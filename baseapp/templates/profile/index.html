{% extends 'base.html' %}
{% load i18n %}

{% block title %}{% trans "Profile" %} - {{ user }}{% endblock %}

{% block content %}
<div class="container my-5">
    <h2 class="mb-4">{% trans "Profile" %} - {{ user }}</h2>
    <form method="post" class="row g-3 needs-validation" novalidate>
        {% csrf_token %}

        <!-- Username -->
        <div class="col-md-6">
            {% trans "username" as username_translated %}
            <label for="username" class="form-label">{{ username_translated|capfirst }}</label>
            <input
                type="text"
                name="username"
                id="username"
                class="form-control"
                value="{{ user.username }}"
                placeholder="JohnDoe"
            >
            <div class="invalid-feedback">
                {% trans "Please enter a valid" %} {% trans "username" %}.
            </div>
        </div>

        <!-- Email -->
        <div class="col-md-6">
            {% trans "email" as email_translated %}
            <label for="email" class="form-label">{{ email_translated|capfirst }}</label>
            <input
                type="email"
                name="email"
                id="email"
                class="form-control"
                value="{{ user.email }}"
                placeholder="john.doe@example.com"
            >
            <div class="invalid-feedback">
                {% trans "Please enter a valid" %} {% trans "email" %}.
            </div>
        </div>

        <!-- First Name -->
        <div class="col-md-6">
            {% trans "first name" as first_name_translated %}
            <label for="first_name" class="form-label">{{ first_name_translated|capfirst }}</label>
            <input
                type="text"
                name="first_name"
                id="first_name"
                class="form-control"
                value="{{ user.first_name }}"
                placeholder="John"
            >
            <div class="invalid-feedback">
                {% trans "Please enter a valid" %} {% trans "first name" %}.
            </div>
        </div>

        <!-- Last Name -->
        <div class="col-md-6">
            {% trans "last name" as last_name_translated %}
            <label for="last_name" class="form-label">{{ last_name_translated|capfirst }}</label>
            <input
                type="text"
                name="last_name"
                id="last_name"
                class="form-control"
                value="{{ user.last_name }}"
                placeholder="Doe"
            >
            <div class="invalid-feedback">
                {% trans "Please enter a valid" %} {% trans "last name" %}.
            </div>
        </div>

        <!-- Phone Number -->
        <div class="col-md-6">
            {% trans "phone" as phone_translated %}
            <label for="phone" class="form-label">{{ phone_translated|capfirst }}</label>
            <input
                type="text"
                name="phone"
                id="phone"
                class="form-control"
                value="{{ user.phone }}"
                placeholder="+7 (123) 456-7890"
                pattern="[0-9]{10,15}"
            >
            <div class="invalid-feedback">
                {% trans "Please enter a valid" %} {% trans "phone" %}.
            </div>
        </div>

        <!-- Telegram -->
        <div class="col-md-6">
            <label for="telegram" class="form-label">Telegram</label>
            <input
                type="text"
                name="telegram"
                id="telegram"
                class="form-control"
                value="{{ user.telegram }}"
                placeholder="username"
                pattern="[A-Za-z0-9_]{5,32}"
            >
            <div class="invalid-feedback">
                {% trans "Please enter a valid" %} telegram.
            </div>
        </div>

        <!-- Bio -->
        <div class="col-12">
            {% trans "bio" as bio_translated %}
            <label for="bio" class="form-label">{{ bio_translated|capfirst }}</label>
            <textarea
                class="form-control"
                id="bio"
                name="bio"
                rows="4"
                placeholder="{% trans "Tell us about yourself..." %}"
            >{{ user.profile.bio }}</textarea>
            <div class="invalid-feedback">
                {% trans "Please provide a brief" %} {% trans "bio" %}.
            </div>
        </div>

        <!-- User Address City -->
        <div class="col-md-4">
            {% trans "city" as city_translated %}
            <label for="city" class="form-label">{{ city_translated|capfirst }}</label>
            <input
                type="text"
                name="city"
                id="city"
                class="form-control"
                value="{{ user.address.city }}"
                placeholder="{% trans "city" %}"
            >
            <div class="invalid-feedback">
                {% trans "Please enter a valid" %} {% trans "city" %}.
            </div>
        </div>

        <!-- User Address Street -->
        <div class="col-md-4">
            {% trans "street" as street_translated %}
            <label for="street" class="form-label">{{ street_translated|capfirst }}</label>
            <input
                type="text"
                name="street"
                id="street"
                class="form-control"
                value="{{ user.address.street }}"
                placeholder="{% trans "street" %}"
            >
            <div class="invalid-feedback">
                {% trans "Please enter a valid" %} {% trans "street" %}.
            </div>
        </div>

        <!-- User Address Home -->
        <div class="col-md-4">
            {% trans "home" as home_translated %}
            <label for="home" class="form-label">{{ home_translated|capfirst }}</label>
            <input
                type="number"
                name="home"
                id="home"
                class="form-control"
                value="{{ user.address.home }}"
                placeholder="{% trans "home" %}"
            >
            <div class="invalid-feedback">
                {% trans "Please enter a valid" %} {% trans "home" %}.
            </div>
        </div>

        <!-- User Address Entrance -->
        <div class="col-md-4">
            {% trans "entrance" as entrance_translated %}
            <label for="entrance" class="form-label">{{ entrance_translated|capfirst }}</label>
            <input
                type="number"
                name="entrance"
                id="entrance"
                class="form-control"
                value="{{ user.address.entrance }}"
                placeholder="{% trans "entrance" %}"
            >
            <div class="invalid-feedback">
                {% trans "Please enter a valid" %} {% trans "entrance" %}.
            </div>
        </div>

        <!-- User Address Floor -->
        <div class="col-md-4">
            {% trans "floor" as floor_translated %}
            <label for="floor" class="form-label">{{ floor_translated|capfirst }}</label>
            <input
                type="number"
                name="floor"
                id="floor"
                class="form-control"
                value="{{ user.address.floor }}"
                placeholder="{% trans "floor" %}"
            >
            <div class="invalid-feedback">
                {% trans "Please enter a valid" %} {% trans "floor" %}.
            </div>
        </div>

        <!-- User Address Apartment -->
        <div class="col-md-4">
            {% trans "apartment" as apartment_translated %}
            <label for="apartment" class="form-label">{{ apartment_translated|capfirst }}</label>
            <input
                type="number"
                name="apartment"
                id="apartment"
                class="form-control"
                value="{{ user.address.apartment }}"
                placeholder="{% trans "apartment" %}"
            >
            <div class="invalid-feedback">
                {% trans "Please enter a valid" %} {% trans "apartment" %}.
            </div>
        </div>

        <!-- Allow Data Access -->
        <div class="col-12 form-check">
            <input
                class="form-check-input"
                type="checkbox"
                name="allow_data_access"
                id="allow_data_access"
                {% if user.profile.allow_data_access %}checked{% endif %}
            >
            <label class="form-check-label" for="allow_data_access">
                {% trans "Allow to open data" %}
            </label>
        </div>

        <!-- Submit Button -->
        <div class="col-12">
            <button class="btn btn-primary" type="submit">{% trans "Save" %} {% trans "Profile" %}</button>
        </div>
    </form>
</div>
{% endblock %}